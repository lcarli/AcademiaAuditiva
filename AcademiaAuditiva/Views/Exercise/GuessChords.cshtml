@model AcademiaAuditiva.ViewModels.ExerciseViewModel
@{
	ViewBag.Title = Localizer["Exercise.Chords.Title"];
	ViewData["FiltersPartial"] = "_ExerciseFilters";
}

<div class="container mt-4">
	@await Html.PartialAsync("_ExerciseHeader", Model)
	<input type="hidden" id="exerciseId" value="@Model.ExerciseId"/>
	<div class="row">
		<div class="col-lg-4">
			@await Html.PartialAsync("_ExerciseInstructions", Model)
		</div>
		<div class="col-lg-8">
			<div class="card shadow-sm p-4">
				<h4 class="text-center mb-3">@Localizer["Exercise.ChordsText"]</h4>

				<!-- WAVEFORM (opcional) -->
				<div id="waveform" class="mb-4 text-center" style="height: 100px;"></div>

                @await Html.PartialAsync("_ExerciseAudioButtons", Model.AudioButtons)

				@await Html.PartialAsync("_ExerciseAnswerButtons", Model.AnswerButtons)

				<!-- BOTÃO VALIDAR -->
				<div class="text-center">
					<button id="validateGuess" class="btn btn-success">@Localizer["Exercise.ValidationButton"]</button>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- MODAL DE FILTROS -->
@await Html.PartialAsync("_ExerciseFiltersModal", Model)

<!-- LOCALIZER JS SUPPORT -->
<div id="localizer"
	data-note-not-selected-title="@Localizer["Exercise.NoteNotSelectedTitle"]"
	data-note-not-selected-text="@Localizer["Exercise.GuessChordError1"]"
	data-incomplete-title="@Localizer["Exercise.IncompleteTitle"]"
	data-incomplete-text="@Localizer["Exercise.SelectChordText"]"
	data-correct-message="@Localizer["Exercise.CorrectMessage"]"
	data-correct-message-text="@Localizer["Exercise.CorrectMessageText"]"
	data-wrong-message="@Localizer["Exercise.WrongMessage"]"
	data-wrong-message-text="@Localizer["Exercise.WrongMessageText"]">
</div>

@section Scripts {
	<script src="~/js/Exercises/GuessChords.js"></script>
}