@{
	ViewBag.Title = "Dashboard";
}

<div class="container mt-5">
	<div class="row">
		<div class="col-md-12 text-center">
			<h2>Dashboard de Evolução</h2>
			<p class="text-muted">Acompanhe seu progresso e evolução.</p>
		</div>
	</div>

	<!-- Seção de Gráficos -->
	<div class="row mt-5">
		<div class="col-md-6">
			<h4>Progresso nos Exercícios</h4>
			<canvas id="progressChart"></canvas>
		</div>
		<div class="col-md-6">
			<h4>Desempenho Geral</h4>
			<canvas id="performanceChart"></canvas>
		</div>
	</div>

	<!-- Seção de Linha do Tempo -->
	<div class="row mt-5">
		<div class="col-md-12">
			<h4>Linha do Tempo dos Exercícios</h4>
			<ul class="timeline">
				<!-- Aqui, você pode renderizar os eventos da linha do tempo com base nos dados -->
			</ul>
		</div>
	</div>
</div>

@section Scripts {
	<!-- Incluir a biblioteca Chart.js -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/tone@latest"></script>
	<script>
		$(document).ready(function () {
			fetch("/Dashboard/GetUserProgress")
				.then(response => response.json())
				.then(data => {
					var progressData = {
						labels: data.map(item => "Exercício " + item.exerciseName), // Ajuste conforme necessário
						datasets: [{
							label: 'Best Score',
							data: data.map(item => item.bestScore),
							backgroundColor: 'rgba(75, 192, 192, 0.2)',
							borderColor: 'rgba(75, 192, 192, 1)',
							borderWidth: 1
						}]
					};

					new Chart(document.getElementById('progressChart'), {
						type: 'bar',
						data: progressData
					});
				})
				.catch(error => {
					console.error("Erro ao buscar dados de progresso:", error);
				});


			var performanceData = {
				labels: ["Janeiro", "Fevereiro", "Março"],
				datasets: [{
					label: 'Desempenho',
					data: [80, 85, 90],
					backgroundColor: 'rgba(255, 99, 132, 0.2)',
					borderColor: 'rgba(255, 99, 132, 1)',
					borderWidth: 1
				}]
			};


			new Chart(document.getElementById('performanceChart'), {
				type: 'line',
				data: performanceData
			});
		});
	</script>
}

